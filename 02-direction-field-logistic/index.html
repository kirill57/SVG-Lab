<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module: Direction Field y' = y(1-y)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <header class="bg-white shadow-sm sticky top-0">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-gray-900">Module: Direction Field \(y' = y(1-y)\)</h1>
            <a href="../index.html" class="text-blue-600 hover:text-blue-800 font-medium hover:underline">
                &larr; Back to Gallery
            </a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
            <div class="w-full max-w-xl mx-auto aspect-square bg-white rounded-lg border border-gray-200 mb-8 overflow-hidden">
                <iframe src="direction-field-logistic.html" class="w-full h-full border-0" title="Interactive Direction Field"></iframe>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-3">Embed This Module</h3>
                <p class="text-gray-700 mb-3">
                    Copy the snippet below to embed this logistic direction field and integral curve explorer in your own materials.
                </p>
                <div class="relative bg-gray-800 rounded-lg p-4 font-mono text-sm text-gray-200">
                    <button id="copy-button" class="absolute top-2 right-2 bg-gray-700 text-white px-3 py-1 rounded hover:bg-gray-600 text-xs">Copy</button>
                    <pre><code id="embed-code">&lt;iframe src="URL_TO_direction-field-logistic.html" 
        width="600" 
        height="600" 
        style="border:1px solid #ccc; border-radius: 8px;"&gt;
&lt;/iframe&gt;</code></pre>
                </div>
            </div>

            <div class="mb-6">
                <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside text-gray-700 space-y-1">
                    <li>Visualize the slope field associated with the logistic differential equation \(y' = y(1-y)\).</li>
                    <li>Identify the equilibrium solutions \(y=0\) and \(y=1\) and discuss their stability directly from the graphic.</li>
                    <li>Drag the initial condition handle to compare growth when \(0 < y_0 < 1\) versus \(y_0 > 1\) or \(y_0 < 0\).</li>
                </ul>
            </div>

            <div>
                <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-3">Code Notes</h3>
                <p class="text-gray-700 mb-4">
                    The SVG is generated on the fly. Each lattice point stores the slope value \(m = y(1-y)\) to draw a short segment. The analytic solution used for the red trajectory comes from the logistic formula
                    \[ y(x) = \frac{1}{1 + (1-\frac{1}{y_0}) e^{-x}}. \]
                    Special cases for \(y_0 = 0\) and \(y_0 = 1\) keep the constant solutions visible.
                </p>
                <div class="bg-gray-800 text-white rounded-lg p-4 font-mono text-sm overflow-x-auto">
<pre><code>// Sample from the solution update
function logisticSolution(x, y0) {
  if (Math.abs(y0) < 1e-6) return 0;
  if (Math.abs(y0 - 1) < 1e-6) return 1;
  const a = 1-(1 / y0);
  const denom = 1 + a * Math.exp(-x);
  return Math.abs(denom) < 1e-6 ? null : 1 / denom;
}</code></pre>
                </div>
            </div>
        </div>
    </main>

    <script>
        const copyButton = document.getElementById('copy-button');
        const embedCode = document.getElementById('embed-code');

        copyButton.addEventListener('click', () => {
            const textArea = document.createElement('textarea');
            let codeToCopy = embedCode.innerText;
            const hostedUrl = window.location.href.replace('index.html', 'direction-field-logistic.html');
            codeToCopy = codeToCopy.replace('URL_TO_direction-field-logistic.html', hostedUrl);

            textArea.value = codeToCopy;
            document.body.appendChild(textArea);
            textArea.select();

            try {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(textArea.value).then(() => {
                        copyButton.textContent = 'Copied!';
                        setTimeout(() => { copyButton.textContent = 'Copy'; }, 2000);
                    });
                } else {
                    document.execCommand('copy');
                    copyButton.textContent = 'Copied!';
                    setTimeout(() => { copyButton.textContent = 'Copy'; }, 2000);
                }
            } catch (err) {
                console.error('Failed to copy text: ', err);
                copyButton.textContent = 'Error';
                setTimeout(() => { copyButton.textContent = 'Copy'; }, 2000);
            }

            document.body.removeChild(textArea);
        });
    </script>
</body>
</html>
